---
/**
 * Marco Astro Agent Detail Page
 * Fetches data from Content Collection and composes section components
 */
import { getEntry } from 'astro:content';
import AgentLayout from '@layouts/AgentLayout.astro';
import {
  AgentHero,
  AgentAbout,
  AgentSpecialties,
  AgentSkills,
  AgentUseCases,
  AgentExamples,
  AgentDosDonts,
  AgentConfig,
  AgentPhilosophy,
  AgentCTA,
} from '@components/sections/agent';

// Fetch agent data from Content Collection
const agent = await getEntry('agents', 'marco-astro');

if (!agent) {
  return Astro.redirect('/404');
}

const { data } = agent;
---

<AgentLayout
  title={`${data.name} | Sqwad`}
  description={data.description}
  name={data.name}
  tagline={data.tagline}
  accentColor={data.accentColor}
>
  <AgentHero
    name={data.name}
    tagline={data.tagline}
    accentColor={data.accentColor}
  />

  <AgentAbout
    title={`Qui est ${data.name} ?`}
    paragraphs={data.about}
  />

  <AgentSpecialties specialties={data.specialties} />

  <AgentSkills
    skills={data.skills}
    accentColor={data.accentColor}
  />

  <AgentUseCases
    useCases={data.useCases}
    agentName={data.name}
  />

  <AgentExamples examples={data.codeExamples} />

  <AgentDosDonts
    does={data.does}
    doesNot={data.doesNot}
    agentName={data.name}
  />

  <AgentConfig mcpTools={data.mcpTools} />

  <AgentPhilosophy
    philosophy={data.philosophy}
    accentColor={data.accentColor}
  />

  <AgentCTA agentName={data.name} />
</AgentLayout>
